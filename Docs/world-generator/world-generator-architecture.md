# üåç –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ WorldGenerator

## –û–±–Ω–æ–≤–ª–µ–Ω–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä–∞ –º–∏—Ä–∞

```mermaid
graph TD
    A[WorldGenerator Service] --> B[Event Bus]
    A --> C[Ascension Oracle]
    A --> D[OntologicalArchivist]
    A --> E[EntityManager]
    
    B --> F[CityGovernor]
    B --> G[BanOfWorld]
    B --> H[RealityMonitor]
    
    C --> I[AI Generation]
    D --> J[Schema Storage]
    E --> K[Entity Management]
    
    subgraph "–ì–µ–Ω–µ—Ä–∞—Ü–∏—è –º–∏—Ä–∞"
        A --> L[–ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Å—Ö–µ–º]
        A --> M[–ì–µ–Ω–µ—Ä–∞—Ü–∏—è –≥–µ–æ–≥—Ä–∞—Ñ–∏–∏]
        A --> N[–ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Ä–µ–≥–∏–æ–Ω–æ–≤]
        A --> O[–ì–µ–Ω–µ—Ä–∞—Ü–∏—è –≤–æ–¥—ã]
        A --> P[–ì–µ–Ω–µ—Ä–∞—Ü–∏—è –≥–æ—Ä–æ–¥–æ–≤]
    end
    
    subgraph "–ü—É–±–ª–∏–∫–∞—Ü–∏—è —Å–æ–±—ã—Ç–∏–π"
        A --> Q[world.generated]
        A --> R[entity.created - —Ä–µ–≥–∏–æ–Ω—ã]
        A --> S[entity.created - –≥–æ—Ä–æ–¥–∞]
        A --> T[entity.created - –≤–æ–¥–∞]
    end
    
    subgraph "–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –¥—Ä—É–≥–∏–º–∏ —Å–µ—Ä–≤–∏—Å–∞–º–∏"
        F --> U[–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≥–æ—Ä–æ–¥–∞–º–∏]
        G --> V[–ó–∞—â–∏—Ç–∞ —Ü–µ–ª–æ—Å—Ç–Ω–æ—Å—Ç–∏]
        H --> W[–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Ä–µ–∞–ª—å–Ω–æ—Å—Ç–∏]
    end
```

## –ü–æ—Ç–æ–∫ –¥–∞–Ω–Ω—ã—Ö

1. **–ó–∞–ø—Ä–æ—Å –Ω–∞ –≥–µ–Ω–µ—Ä–∞—Ü–∏—é –º–∏—Ä–∞**:
   - –ü–æ–ª—É—á–µ–Ω–∏–µ —Å–æ–±—ã—Ç–∏—è `world.generate` —á–µ—Ä–µ–∑ Event Bus
   - –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏

2. **–ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Å—Ö–µ–º**:
   - –ó–∞–ø—Ä–æ—Å —Å—Ö–µ–º —É UniverseGenesisOracle
   - –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Å—Ö–µ–º —á–µ—Ä–µ–∑ OntologicalArchivist

3. **–ì–µ–Ω–µ—Ä–∞—Ü–∏—è –≥–µ–æ–≥—Ä–∞—Ñ–∏—á–µ—Å–∫–æ–π —Å—Ç—Ä—É–∫—Ç—É—Ä—ã**:
   - –í—ã–∑–æ–≤ Ascension Oracle –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏:
     - –†–µ–≥–∏–æ–Ω–æ–≤ —Å –±–∏–æ–º–∞–º–∏
     - –í–æ–¥–Ω—ã—Ö –æ–±—ä–µ–∫—Ç–æ–≤
     - –ì–æ—Ä–æ–¥–æ–≤ —Å —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∞–º–∏
   - –°–æ–∑–¥–∞–Ω–∏–µ —Å—É—â–Ω–æ—Å—Ç–µ–π —á–µ—Ä–µ–∑ EntityManager

4. **–ü—É–±–ª–∏–∫–∞—Ü–∏—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤**:
   - –°–æ–±—ã—Ç–∏–µ `world.generated` –≤ Event Bus
   - –°–æ–±—ã—Ç–∏—è `entity.created` –¥–ª—è —Ä–µ–≥–∏–æ–Ω–æ–≤, –≥–æ—Ä–æ–¥–æ–≤ –∏ –≤–æ–¥—ã
   - –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å CityGovernor –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –≥–æ—Ä–æ–¥–∞–º–∏

## –¢–∏–ø—ã –≥–µ–Ω–µ—Ä–∏—Ä—É–µ–º—ã—Ö —Å—É—â–Ω–æ—Å—Ç–µ–π

- **–†–µ–≥–∏–æ–Ω—ã** (entity_type: region):
  - –ù–∞–∑–≤–∞–Ω–∏–µ
  - –ë–∏–æ–º (–ª–µ—Å, –≥–æ—Ä—ã, –ø–æ–ª—è, –ø—É—Å—Ç—ã–Ω—è, –±–æ–ª–æ—Ç–æ –∏ —Ç.–¥.)
  - –ö–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã
  - –†–∞–∑–º–µ—Ä

- **–í–æ–¥–Ω—ã–µ –æ–±—ä–µ–∫—Ç—ã** (entity_type: water_body):
  - –ù–∞–∑–≤–∞–Ω–∏–µ
  - –¢–∏–ø (—Ä–µ–∫–∞, –º–æ—Ä–µ, –æ–∑–µ—Ä–æ)
  - –ö–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã
  - –†–∞–∑–º–µ—Ä

- **–ì–æ—Ä–æ–¥–∞** (entity_type: city):
  - –ù–∞–∑–≤–∞–Ω–∏–µ
  - –ù–∞—Å–µ–ª–µ–Ω–∏–µ
  - –¢–∏–ø (–±–æ–ª—å—à–æ–π/–º–∞–ª–µ–Ω—å–∫–∏–π)
  - –†–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ (—Ä–µ–≥–∏–æ–Ω, –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã)
  - –ë–∞–∑–æ–≤—ã–µ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏

## –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –¥—Ä—É–≥–∏–º–∏ —Å–µ—Ä–≤–∏—Å–∞–º–∏

- **CityGovernor**: –ø–æ–ª—É—á–∞–µ—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –≥–æ—Ä–æ–¥–∞—Ö –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è
- **EntityManager**: —Å–æ–∑–¥–∞–µ—Ç —Å—É—â–Ω–æ—Å—Ç–∏ –º–∏—Ä–∞
- **BanOfWorld**: –æ—Ç—Å–ª–µ–∂–∏–≤–∞–µ—Ç —Ü–µ–ª–æ—Å—Ç–Ω–æ—Å—Ç—å –º–∏—Ä–∞
- **RealityMonitor**: –∞–≥—Ä–µ–≥–∏—Ä—É–µ—Ç –º–µ—Ç—Ä–∏–∫–∏ –º–∏—Ä–∞

## –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

–î–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –º–∏—Ä–∞ –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å–ª–µ–¥—É—é—â–∏–µ –ø–æ–¥—Ö–æ–¥—ã:

1. **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ** - –æ—Ç–ø—Ä–∞–≤–∫–∞ —Ç–µ—Å—Ç–æ–≤—ã—Ö —Å–æ–±—ã—Ç–∏–π —á–µ—Ä–µ–∑ Kafka
2. **–†—É—á–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ** - –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Å–∫—Ä–∏–ø—Ç–æ–≤ –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ —Å–æ–±—ã—Ç–∏–π
3. **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ** - –ø—Ä–æ–≤–µ—Ä–∫–∞ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è —Å –¥—Ä—É–≥–∏–º–∏ —Å–µ—Ä–≤–∏—Å–∞–º–∏

–°–º. –ø–æ–¥—Ä–æ–±–Ω–æ—Å—Ç–∏ –≤ [—Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–µ –ø–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—é](../docs/world-generator/world_generation_testing_guide.md) –∏ [–∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ –æ—Ç–ø—Ä–∞–≤–∫–µ —Ç–µ—Å—Ç–æ–≤—ã—Ö —Å–æ–±—ã—Ç–∏–π](../docs/world-generator/world_generation_test_script.md).