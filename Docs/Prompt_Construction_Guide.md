# üìù Prompt Construction Guide

> GM **–Ω–µ –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∏—Ä—É–µ—Ç**, –Ω–µ –æ—Ü–µ–Ω–∏–≤–∞–µ—Ç, –Ω–µ –∑–∞–¥–∞—ë—Ç —Ç–æ–Ω. –û–Ω **—Å–æ–±–∏—Ä–∞–µ—Ç –æ–±—ä–µ–∫—Ç–∏–≤–Ω—ã–µ —Ñ–∞–∫—Ç—ã** –∏ —Ñ–æ—Ä–º–∏—Ä—É–µ—Ç –¥–≤–∞ —Å–æ–æ–±—â–µ–Ω–∏—è –¥–ª—è `/v1/chat/completions`:  
> - `role: system` ‚Äî –∫–æ–Ω—Ç–µ–∫—Å—Ç,  
> - `role: user` ‚Äî –∑–∞–¥–∞—á–∞ –∏ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è.

---

## üß± –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–º—Ç–∞

### `system` message

    –¢—ã ‚Äî –ü–æ–≤–µ—Å—Ç–≤–æ–≤–∞—Ç–µ–ª—å –ú–∏—Ä–∞. –¢–≤–æ—è –∑–∞–¥–∞—á–∞ ‚Äî —Ä–∞–∑–≤–∏–≤–∞—Ç—å –∏—Å—Ç–æ—Ä–∏—é –µ—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω–æ, –∏–º–º–µ—Ä—Å–∏–≤–Ω–æ –∏ –ø–æ—ç—Ç–∏—á–Ω–æ.

    ### –§–ê–ö–¢–´ –ú–ò–†–ê
    ‚Ä¢ "–ë–µ—Å—Å–º–µ—Ä—Ç–∏–µ –Ω–∞—Ä—É—à–∞–µ—Ç –ó–∞–∫–æ–Ω –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –î—É—à–∏"

    ### –°–£–©–ù–û–°–¢–ò –í –û–ë–õ–ê–°–¢–ò
    - player:123: 
      –°–æ—Å—Ç–æ—è–Ω–∏–µ: HP=45, location=forbidden_lab
      –ü–∞—Ä–∞–º–µ—Ç—Ä—ã: perception=0.4, fear=0.7

    ### –û–ö–†–£–ñ–ï–ù–ò–ï
    - –í—Ä–µ–º—è: 03:17 (–Ω–æ—á—å)
    - –ü–æ–≥–æ–¥–∞: –≥—É—Å—Ç–æ–π —Ç—É–º–∞–Ω, –¥–æ–∂–¥—å
    - –õ–æ–∫–∞—Ü–∏—è: –ó–∞–ø—Ä–µ—Ç–Ω–∞—è –ª–∞–±–æ—Ä–∞—Ç–æ—Ä–∏—è (—Ä—É–Ω—ã –Ω–∞ —Å—Ç–µ–Ω–∞—Ö)

### `user` message
    ### –í–†–ï–ú–ï–ù–ù–û–ô –ö–û–ù–¢–ï–ö–°–¢
    –ê–±—Å–æ–ª—é—Ç–Ω–æ–µ –≤—Ä–µ–º—è: 23:47, –°—É—Ç–∫–∏: –Ω–æ—á—å, –°–µ–∑–æ–Ω: –æ—Å–µ–Ω—å
    - –ü–æ—Å–ª–µ–¥–Ω–µ–µ —Å–æ–±—ã—Ç–∏–µ: 12 —Å–µ–∫ –Ω–∞–∑–∞–¥
    - –ê—Ç–º–æ—Å—Ñ–µ—Ä–∞: –Ω–∞–ø—Ä—è–∂—ë–Ω–Ω–∞—è, —Ç—Ä–µ–≤–æ–∂–Ω–∞—è

    ### –ó–ê–î–ê–ß–ê
    –ü–æ–¥—É–º–∞–π: —á—Ç–æ *–ª–æ–≥–∏—á–Ω–æ* –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –¥–∞–ª—å—à–µ?
    ‚Äî –£—á–∏—Ç—ã–≤–∞–π —Ñ–∞–∫—Ç—ã, —Ö–∞—Ä–∞–∫—Ç–µ—Ä—ã, –æ–±—Å—Ç–∞–Ω–æ–≤–∫—É.
    ‚Äî –ï—Å–ª–∏ —É–º–µ—Å—Ç–Ω–æ, –∏—Å–ø–æ–ª—å–∑—É–π —Å—Ç–∏–ª–µ–≤—ã–µ –º–æ–¥–∏—Ñ–∏–∫–∞—Ç–æ—Ä—ã: 
      ¬´–≤–Ω–µ–∑–∞–ø–Ω–æ¬ª, ¬´—Ç—Ä–∞–≥–∏—á–Ω–æ¬ª, ¬´–∏—Ä–æ–Ω–∏—á–Ω–æ¬ª, ¬´–ø–æ—ç—Ç–∏—á–Ω–æ¬ª, ¬´–º—Ä–∞—á–Ω–æ¬ª –∏ —Ç.–¥.
    ‚Äî –¢—ã –≤–æ–ª–µ–Ω –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å —Ç–æ–Ω –∏ –∞—Ç–º–æ—Å—Ñ–µ—Ä—É —Å–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω–æ.

    ### –¢–†–ï–ë–û–í–ê–ù–ò–Ø
    1. –û—Ç–≤–µ—Ç —Å—Ç—Ä–æ–≥–æ –≤ —Ñ–æ—Ä–º–∞—Ç–µ JSON.
    2. "narrative": 1‚Äì3 –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è, –¥–ª—è –∏–≥—Ä–æ–∫–æ–≤.
    3. "mood": –º–∞—Å—Å–∏–≤ —Å—Ç—Ä–æ–∫ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ).
    4. "new_events": –º–∞—Å—Å–∏–≤ (–º–∞–∫—Å. 3) —Å–æ–±—ã—Ç–∏–π.

    ### –§–û–†–ú–ê–¢ –û–¢–í–ï–¢–ê
    {
      "narrative": "—Å—Ç—Ä–æ–∫–∞",
      "mood": ["—Ç–µ–≥1", "—Ç–µ–≥2"],
      "new_events": [ ... ]
    }

---

## üîç –ö–∞–∫ —Ñ–æ—Ä–º–∏—Ä—É—é—Ç—Å—è –±–ª–æ–∫–∏

| –ë–ª–æ–∫ | –ò—Å—Ç–æ—á–Ω–∏–∫ | –ü—Ä–∏–º–µ—Ä |
|------|----------|--------|
| `–§–ê–ö–¢–´ –ú–ò–†–ê` | `KnowledgeBase.Canon` | `"–ë–µ—Å—Å–º–µ—Ä—Ç–∏–µ –Ω–∞—Ä—É—à–∞–µ—Ç –ó–∞–∫–æ–Ω..."` |
| `–°–£–©–ù–û–°–¢–ò` | `entity.state`, `entity.parameters` | `"HP=45, perception=0.4"` |
| `–û–ö–†–£–ñ–ï–ù–ò–ï` | `world.weather`, `location.description` | `"–≥—É—Å—Ç–æ–π —Ç—É–º–∞–Ω, –¥–æ–∂–¥—å"` |
| `–°–û–ë–´–¢–ò–Ø` | `humanizeDuration(dt)` | `"[—á–µ—Ä–µ–∑ –º–≥–Ω–æ–≤–µ–Ω–∏–µ] –ø–æ–≥–∞—Å —Ñ–∞–∫–µ–ª"` |

> ‚úÖ –¢–æ–ª—å–∫–æ —Ñ–∞–∫—Ç—ã. –ù–∏–∫–∞–∫–∏—Ö –æ—Ü–µ–Ω–æ–∫.